<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FamFlix Test</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #f0f9ff; }
        .container { max-width: 600px; margin: 0 auto; background: white; padding: 30px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        h1 { color: #6366f1; margin-bottom: 20px; }
        .status { background: #dcfce7; padding: 15px; border-radius: 5px; margin: 10px 0; }
        .error { background: #fecaca; padding: 15px; border-radius: 5px; margin: 10px 0; }
        button { background: #6366f1; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; margin: 5px; }
        button:hover { background: #4f46e5; }
    </style>
</head>
<body>
    <div class="container">
        <h1>üé¨ FamFlix</h1>
        <p>Educational Videos with Your Family</p>
        
        <div class="status">
            <h3>System Status</h3>
            <p>‚úÖ HTML Loading: Working</p>
            <p>‚úÖ CSS Styling: Working</p>
            <p id="js-status">‚è≥ JavaScript: Testing...</p>
        </div>
        
        <div id="test-results"></div>
        
        <button onclick="testServer()">Test Server Connection</button>
        <button onclick="testReactMount()">Test React Mount</button>
        
        <div id="output"></div>
    </div>

    <script>
        console.log('Basic HTML/JS loading successfully');
        document.getElementById('js-status').innerHTML = '‚úÖ JavaScript: Working';
        
        function testServer() {
            const output = document.getElementById('output');
            output.innerHTML = '<div class="status">Testing server connection...</div>';
            
            fetch('/api/health')
                .then(response => response.json())
                .then(data => {
                    output.innerHTML = `<div class="status">‚úÖ Server Response: ${JSON.stringify(data)}</div>`;
                })
                .catch(error => {
                    output.innerHTML = `<div class="error">‚ùå Server Error: ${error.message}</div>`;
                });
        }
        
        function testReactMount() {
            const output = document.getElementById('output');
            output.innerHTML = '<div class="status">Testing React mount...</div>';
            
            // Try to load React and mount it
            const script = document.createElement('script');
            script.type = 'module';
            script.innerHTML = `
                try {
                    console.log('Testing React import...');
                    import('react').then(React => {
                        console.log('React imported successfully:', React);
                        document.getElementById('output').innerHTML = '<div class="status">‚úÖ React import successful</div>';
                    }).catch(error => {
                        console.error('React import failed:', error);
                        document.getElementById('output').innerHTML = '<div class="error">‚ùå React import failed: ' + error.message + '</div>';
                    });
                } catch (error) {
                    console.error('Script execution error:', error);
                    document.getElementById('output').innerHTML = '<div class="error">‚ùå Script error: ' + error.message + '</div>';
                }
            `;
            document.head.appendChild(script);
        }
        
        // Auto-test after page load
        window.addEventListener('load', () => {
            setTimeout(testServer, 1000);
        });
    </script>
</body>
</html>